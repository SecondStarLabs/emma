<!-- jquery is not on this page for some reason -->
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 


<div class="page-header">
  <%= link_to photos_path, class: 'btn btn-default'  do %>
    << All Photos
  <% end %>
  <%#= link_to edit_photo_path(@photo), class: 'btn btn-primary' do %>
   <!--  Edit -->
  <%# end %>
  <h1>photo <%= @photo.id %> </h1>
</div>


<dl>
    <dt>
<% if @photo.image.attached? %>
<%= link_to 'link to image', url_for(@photo.image), id: "imagelink" %>&nbsp;&nbsp;
<button onclick="copyToClipboard('#imagelink')" class="btn btn-primary">Copy link to image</button>

<% end %>
    </dt>
    <dd>
    <% if @photo.image.attached? %>
      <%= link_to url_for(@photo.image) do  %>
        <%= image_tag @photo.image %>
        <% else %>
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSpj0DBTVsaja01_xWh37bcutvpd7rh7zEd528HD0d_l6A73osY" width="280" data-behavior="uppy-preview" />
                <br />
                <p>photo missing</p>
      <% end %>
    <% end %>
    
    </dd>

</dl>

<script>
function copyToClipboard(element) {
  var $temp = $("<input>");
  $("body").append($temp);
  $temp.val(window.location.protocol + "//" + window.location.hostname + $(element).attr("href")).select();
  document.execCommand("copy");
  $temp.remove();
}
</script>
